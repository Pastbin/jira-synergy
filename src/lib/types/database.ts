/**
 * Типы для работы с базой данных
 * Определяют структуры данных и интерфейсы для сущностей системы
 */

/**
 * Статус задачи в workflow
 * Определяет возможные состояния задачи от создания до завершения
 */
export type TaskStatus = "todo" | "in_progress" | "review" | "testing" | "done";

/**
 * Роль пользователя в проекте
 * Определяет уровень доступа и права пользователя в рамках проекта
 */
export type UserRole = "owner" | "admin" | "member";

/**
 * Интерфейс пользователя
 * Представляет данные пользователя системы
 */
export interface User {
  id: string; // Уникальный идентификатор пользователя (UUID)
  email: string; // Email пользователя для аутентификации
  password: string; // Хэшированный пароль пользователя
  name: string; // Отображаемое имя пользователя
  avatar?: string; // Ссылка на аватар пользователя (опционально)
  createdAt: Date; // Дата создания пользователя
  updatedAt: Date; // Дата последнего обновления
}

/**
 * Интерфейс проекта
 * Представляет данные проекта в системе
 */
export interface Project {
  id: string; // Уникальный идентификатор проекта (UUID)
  name: string; // Название проекта
  description?: string; // Описание проекта (опционально)
  status: string; // Статус проекта (active, archived, completed)
  ownerId: string; // Идентификатор владельца проекта
  createdAt: Date; // Дата создания проекта
  updatedAt: Date; // Дата последнего обновления
}

/**
 * Интерфейс задачи
 * Представляет данные задачи в системе управления проектами
 */
export interface Task {
  id: string; // Уникальный идентификатор задачи (UUID)
  title: string; // Заголовок задачи
  description?: string; // Детальное описание задачи (опционально)
  status: TaskStatus; // Текущий статус задачи в workflow
  priority: number; // Приоритет задачи (чем выше число - тем выше приоритет)
  projectId: string; // Идентификатор проекта, к которому относится задача
  assigneeId?: string; // Идентификатор исполнителя задачи (опционально)
  creatorId: string; // Идентификатор создателя задачи
  deadline?: Date; // Дедлайн задачи (опционально)
  createdAt: Date; // Дата создания задачи
  updatedAt: Date; // Дата последнего обновления
}

/**
 * Интерфейс связи пользователь-проект
 * Представляет участие пользователя в проекте с определенной ролью
 */
export interface UserProject {
  id: string; // Уникальный идентификатор связи (UUID)
  userId: string; // Идентификатор пользователя
  projectId: string; // Идентификатор проекта
  role: UserRole; // Роль пользователя в проекте
  joinedAt: Date; // Дата присоединения пользователя к проекту
}

/**
 * Интерфейс подключения к базе данных
 * Содержит параметры для подключения к PostgreSQL
 */
export interface DatabaseConnection {
  host: string; // Хост базы данных
  port: number; // Порт подключения
  username: string; // Имя пользователя БД
  password: string; // Пароль пользователя БД
  database: string; // Название базы данных
}
